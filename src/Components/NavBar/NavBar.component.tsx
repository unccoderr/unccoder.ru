import { indexLocalization } from "../../Config"
import { Theme } from "../../Types"
import { useContext } from "react"
import { AppContext } from "../App.context"
import { changeLanguage, changeTheme, Localizator } from "../../Utils"

import './Navbar.css'
import { NavLink } from "react-router-dom"

const { header } = indexLocalization

interface NavBarProps {
	variant: 'footer' | 'navbar'
}
export const NavBar = ({ variant }: NavBarProps) => {
	const { language, setLanguage,
		theme, setTheme } = useContext(AppContext)
	const { localize } = new Localizator(language)
	const toggleTheme = () => changeTheme(theme, setTheme)
	const toggleLang = () => changeLanguage(language, setLanguage)

	const content = <div data-theme={theme} className={'container navbar-wrapper'}>
		<NavLink data-theme={theme} className={'navbar-wrapper__logo'} to={'/'}>{header.nick}</NavLink>
		<ul className={'navbar-wrapper__list'}>
			<li>
				<NavLink to={header.about.href} className={'navbar-wrapper__list-item'} data-theme={theme}>
					{localize(header.about)}
				</NavLink>
			</li>
			<li>
				<NavLink to={header.skills.href} className={'navbar-wrapper__list-item'} data-theme={theme}>
					{localize(header.skills)}
				</NavLink>
			</li>
		</ul>
		<div className={'navbar-wrapper__buttons'}>
			<button onClick={toggleLang}>
				<svg data-theme={theme} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<g clipPath="url(#clip0_118_1501)">
						<path d="M11.988 0.5C5.364 0.5 0 5.876 0 12.5C0 19.124 5.364 24.5 11.988 24.5C18.624 24.5 24 19.124 24 12.5C24 5.876 18.624 0.5 11.988 0.5ZM20.304 7.7H16.764C16.3884 6.21375 15.8323 4.77908 15.108 3.428C17.2969 4.1816 19.1414 5.69807 20.304 7.7ZM12 2.948C12.996 4.388 13.776 5.984 14.292 7.7H9.708C10.224 5.984 11.004 4.388 12 2.948ZM2.712 14.9C2.52 14.132 2.4 13.328 2.4 12.5C2.4 11.672 2.52 10.868 2.712 10.1H6.768C6.672 10.892 6.6 11.684 6.6 12.5C6.6 13.316 6.672 14.108 6.768 14.9H2.712ZM3.696 17.3H7.236C7.62 18.8 8.172 20.24 8.892 21.572C6.70076 20.8225 4.855 19.305 3.696 17.3ZM7.236 7.7H3.696C4.855 5.69501 6.70076 4.17748 8.892 3.428C8.16771 4.77908 7.61157 6.21375 7.236 7.7ZM12 22.052C11.004 20.612 10.224 19.016 9.708 17.3H14.292C13.776 19.016 12.996 20.612 12 22.052ZM14.808 14.9H9.192C9.084 14.108 9 13.316 9 12.5C9 11.684 9.084 10.88 9.192 10.1H14.808C14.916 10.88 15 11.684 15 12.5C15 13.316 14.916 14.108 14.808 14.9ZM15.108 21.572C15.828 20.24 16.38 18.8 16.764 17.3H20.304C19.1414 19.3019 17.2969 20.8184 15.108 21.572ZM17.232 14.9C17.328 14.108 17.4 13.316 17.4 12.5C17.4 11.684 17.328 10.892 17.232 10.1H21.288C21.48 10.868 21.6 11.672 21.6 12.5C21.6 13.328 21.48 14.132 21.288 14.9H17.232Z"/>
					</g>
				</svg>
			</button>
			<button onClick={toggleTheme}>
				{ theme === Theme.LIGHT ? <svg data-theme={theme} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M11.1429 0.5H12.8571V4.78571H11.1429V0.5ZM16.8754 6.41429L19.8806 3.40914L21.0926 4.62114L18.0874 7.62629L16.8754 6.41429ZM19.7143 11.6429H24V13.3571H19.7143V11.6429ZM16.8754 18.5857L18.0874 17.3746L21.0926 20.3797L19.8806 21.5917L16.8754 18.5857ZM11.1429 20.2143H12.8571V24.5H11.1429V20.2143ZM2.90914 20.3789L5.91429 17.3737L7.12629 18.5857L4.122 21.5909L2.90914 20.3789ZM0 11.6429H4.28571V13.3571H0V11.6429ZM2.91 4.62114L4.122 3.40914L7.12714 6.41429L5.91429 7.62629L2.91 4.62114ZM12 7.35714C10.9828 7.35714 9.98852 7.65877 9.14278 8.22387C8.29704 8.78898 7.63787 9.59218 7.24862 10.5319C6.85937 11.4716 6.75752 12.5057 6.95596 13.5033C7.1544 14.5009 7.64421 15.4173 8.36345 16.1365C9.08269 16.8558 9.99906 17.3456 10.9967 17.544C11.9943 17.7425 13.0284 17.6406 13.9681 17.2514C14.9078 16.8621 15.711 16.203 16.2761 15.3572C16.8412 14.5115 17.1429 13.5172 17.1429 12.5C17.1429 11.136 16.601 9.82792 15.6365 8.86345C14.6721 7.89898 13.364 7.35714 12 7.35714Z"/>
				</svg> : <svg data-theme={theme} width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M11.1429 0.5H12.8571V4.78571H11.1429V0.5ZM16.8754 6.41429L19.8806 3.40914L21.0926 4.62114L18.0874 7.62629L16.8754 6.41429ZM19.7143 11.6429H24V13.3571H19.7143V11.6429ZM16.8754 18.5857L18.0874 17.3746L21.0926 20.3797L19.8806 21.5917L16.8754 18.5857ZM11.1429 20.2143H12.8571V24.5H11.1429V20.2143ZM2.90914 20.3789L5.91429 17.3737L7.12629 18.5857L4.122 21.5909L2.90914 20.3789ZM0 11.6429H4.28571V13.3571H0V11.6429ZM2.91 4.62114L4.122 3.40914L7.12714 6.41429L5.91429 7.62629L2.91 4.62114ZM12 9.07143C12.6781 9.07143 13.341 9.27251 13.9048 9.64925C14.4686 10.026 14.9081 10.5615 15.1676 11.1879C15.4271 11.8144 15.495 12.5038 15.3627 13.1689C15.2304 13.834 14.9039 14.4449 14.4244 14.9244C13.9449 15.4039 13.334 15.7304 12.6689 15.8627C12.0038 15.995 11.3144 15.9271 10.6879 15.6676C10.0615 15.4081 9.52598 14.9686 9.14925 14.4048C8.77251 13.841 8.57143 13.1781 8.57143 12.5C8.57256 11.591 8.93415 10.7196 9.57689 10.0769C10.2196 9.43415 11.091 9.07256 12 9.07143ZM12 7.35714C10.9828 7.35714 9.98852 7.65877 9.14278 8.22387C8.29704 8.78898 7.63787 9.59218 7.24862 10.5319C6.85937 11.4716 6.75752 12.5057 6.95596 13.5033C7.1544 14.5009 7.64421 15.4173 8.36345 16.1365C9.08269 16.8558 9.99906 17.3456 10.9967 17.544C11.9943 17.7425 13.0284 17.6406 13.9681 17.2514C14.9078 16.8621 15.711 16.203 16.2761 15.3572C16.8412 14.5115 17.1429 13.5172 17.1429 12.5C17.1429 11.136 16.601 9.82792 15.6365 8.86345C14.6721 7.89898 13.364 7.35714 12 7.35714Z" />
				</svg>
				}
			</button>
		</div>
	</div>
	return variant === 'navbar'
		? <nav data-theme={theme} className={'navbar navbar_nav'}>
			{content}
		</nav>
		: <footer data-theme={theme} className={`navbar navbar_footer`}>
			{content}
		</footer>
}